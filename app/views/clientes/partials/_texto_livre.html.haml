#texto_livre.tab-pane.fade
  .container-fluid
    - if @cliente.id?
      .row-fluid
        .col-sm-10.col-md-12
          =render 'clientes/partials/cliente_legend'
    %br/
    .row-fluid
      .col-sm-12.col-md-12.pull-left
        = link_to "Incluir Novo", "#", class: "btn btn-success", id: "include_new_free_text"
        = link_to "Incluir", "#", class: "btn btn-success", id: "salvar_new_free_text"
        = link_to "Cancelar Inclusão", "#", class: "btn btn-warning", id: "cancelar_free_text"

  %br/
  .container-fluid
    .col-md-12
      -if !@cliente_texto_livres.empty?
        #free_text_area
          %table.table
            %thead
              %tr
                %th Texto-livre
                %th Opções
            %tbody#texto_livres_container
              -@cliente_texto_livres.each do |cliente_texto_livre|
                =render 'clientes/partials/cliente_texto_livre', {cliente_texto_livre: cliente_texto_livre}
          #paginator_cliente_text_livre
            =paginate @cliente_texto_livres, remote: true
      #select_free_text_modal
      #cktext_area_editor{style: "display: none"}
        =cktext_area :page, :info, cols: 40, ckeditor: { height: 400 }, :id => "texto_livre_textarea"

/ Modal
#textoLivresModal.modal.fade{:role => "dialog"}
  .modal-dialog
    / Modal content
    .modal-content
      .modal-header
        %button.close{"data-dismiss" => "modal", :type => "button"} ×
        %h4.modal-title Textos Livres
      .modal-body
        - if @texto_livres.present?
          #include_texto_livre
            =render 'texto_livres/include_texto_livre', {texto_livres: @texto_livres}
          #paginator_texto_livres
            =paginate @texto_livres, remote: true
      .modal-footer
        %button.btn.btn-danger{"data-dismiss" => "modal", :type => "button"} Fechar

=javascript_include_tag Ckeditor.asset_path